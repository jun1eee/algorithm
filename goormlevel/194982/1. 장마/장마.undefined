n, m = map(int, input().split())
arr = list(map(int, input().split()))
visited =[False]*n
for i in range(m):
	start, end = map(int, input().split())
	start, end = start-1, end-1
	for index in range(start, end+1):
		if not visited[index]:
			visited[index] = True
		arr[index] += 1
	if (i+1) % 3 == 0:
		for k in range(n):
			if visited[k]:
				arr[k] -= 1
				visited[k] = False
for a in arr:
	print(a, end=" ")